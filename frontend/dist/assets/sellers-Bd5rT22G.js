import{r as a,a as y,j as e}from"./index-0uQ4Kv7o.js";import{H as w}from"./Helmet-PMb9rcnr.js";import{S as k}from"./search-H5UwDlXa.js";import{c as L}from"./createLucideIcon-Cb3-QgJi.js";/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],S=L("info",_);function F(){const[h,u]=a.useState([]),[j,g]=a.useState(!0),[m,p]=a.useState(null),[t,d]=a.useState(null),[o,f]=a.useState(""),[l,N]=a.useState("all"),[n,v]=a.useState("all");a.useEffect(()=>{b()},[]);const b=async()=>{var s,i;try{const r=localStorage.getItem("token"),c=await y.get("/api/admin/sellers",{headers:{Authorization:`Bearer ${r}`}});c.data&&u(c.data.sellers||[])}catch(r){p(((i=(s=r.response)==null?void 0:s.data)==null?void 0:i.message)||"Failed to fetch sellers data")}finally{g(!1)}},x=h.filter(s=>{const i=s.name.toLowerCase().includes(o.toLowerCase())||s.email.toLowerCase().includes(o.toLowerCase()),r=l==="all"?!0:l==="4+"?(Number(s.average_rating)||0)>=4:l==="3-4"?(Number(s.average_rating)||0)>=3&&(Number(s.average_rating)||0)<4:(Number(s.average_rating)||0)<3,c=n==="all"?!0:n==="10+"?(Number(s.total_products)||0)>=10:n==="5-10"?(Number(s.total_products)||0)>=5&&(Number(s.total_products)||0)<10:(Number(s.total_products)||0)<5;return i&&r&&c});return j?e.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):m?e.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:e.jsxs("div",{className:"text-red-600 text-center",children:[e.jsx("p",{className:"text-xl font-semibold mb-2",children:"خطأ"}),e.jsx("p",{children:m})]})}):e.jsxs(e.Fragment,{children:[e.jsx(w,{children:e.jsx("title",{children:"إدارة البائعين"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"البحث عن طريق الاسم أو البريد الإلكتروني...",value:o,onChange:s=>f(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),e.jsx(k,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"التقييم:"}),e.jsxs("select",{value:l,onChange:s=>N(s.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"all",children:"الكل"}),e.jsx("option",{value:"4+",children:"4+ نجوم"}),e.jsx("option",{value:"3-4",children:"3-4 نجوم"}),e.jsx("option",{value:"below3",children:"أقل من 3 نجوم"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"عدد المنتجات:"}),e.jsxs("select",{value:n,onChange:s=>v(s.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"all",children:"الكل"}),e.jsx("option",{value:"10+",children:"10+ منتجات"}),e.jsx("option",{value:"5-10",children:"5-10 منتجات"}),e.jsx("option",{value:"below5",children:"أقل من 5 منتجات"})]})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["قائمة البائعين (",x.length,")"]})}),e.jsx("div",{className:"divide-y divide-gray-100",children:x.length===0?e.jsx("div",{className:"p-6 text-center text-gray-500",children:"لا يوجد بائعين مطابقين لمعايير البحث"}):x.map(s=>e.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.email})]})}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"المنتجات"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.total_products||0})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"التقييم"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:(Number(s.average_rating)||0).toFixed(1)})]}),e.jsx("button",{onClick:()=>d(s),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(S,{className:"h-5 w-5"})})]})]},s.id))})]}),t&&e.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-white/30 backdrop-blur-sm transition-opacity",onClick:()=>d(null)}),e.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:"​"}),e.jsx("div",{className:"relative inline-block transform overflow-hidden rounded-lg bg-white text-right align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl sm:align-middle",children:e.jsxs("div",{className:"bg-white px-6 py-8",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"معلومات البائع"}),e.jsx("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-gray-500 transition-colors",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"تفاصيل كاملة عن معلومات البائع وإحصائياته"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 ml-2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"المعلومات الشخصية"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",dir:"ltr",children:t.name||"غير متوفر"}),e.jsx("span",{className:"text-gray-600",children:":الاسم"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",dir:"ltr",children:t.email||"غير متوفر"}),e.jsx("span",{className:"text-gray-600",children:":البريد الإلكتروني"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",dir:"ltr",children:t.phone_number||"غير متوفر"}),e.jsx("span",{className:"text-gray-600",children:":رقم الهاتف"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:t.address||"غير متوفر"}),e.jsx("span",{className:"text-gray-600",children:":العنوان"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsxs("svg",{className:"h-5 w-5 ml-2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V6z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18"})]}),"المعلومات البنكية"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",dir:"ltr",children:t.bank_name||"غير متوفر"}),e.jsx("span",{className:"text-gray-600",children:":اسم البنك"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",dir:"ltr",children:t.account_number||"غير متوفر"}),e.jsx("span",{className:"text-gray-600",children:":رقم الحساب"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 ml-2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"الإحصائيات"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 text-center",children:[e.jsx("span",{className:"block text-sm text-blue-600 font-medium mb-1",children:"عدد المنتجات"}),e.jsx("span",{className:"text-2xl font-bold text-blue-700",dir:"ltr",children:t.total_products||0})]}),e.jsxs("div",{className:"border rounded-lg p-4 text-center",children:[e.jsx("span",{className:"block text-sm text-green-600 font-medium mb-1",children:"عدد التقييمات"}),e.jsx("span",{className:"text-2xl font-bold text-green-700",dir:"ltr",children:t.total_reviews||0})]}),e.jsxs("div",{className:"border rounded-lg p-4 text-center col-span-2",children:[e.jsx("span",{className:"block text-sm text-yellow-600 font-medium mb-1",children:"متوسط التقييم"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 text-yellow-700",children:[e.jsx("span",{className:"text-2xl font-bold",dir:"ltr",children:(Number(t.average_rating)||0).toFixed(1)}),e.jsx("span",{className:"text-lg",children:"/"}),e.jsx("span",{className:"text-lg",children:"5"})]})]})]})]}),t.products&&t.products.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 ml-2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),"آخر المنتجات"]}),e.jsx("div",{className:"border rounded-lg divide-y",children:t.products.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("span",{className:"text-green-600",dir:"ltr",children:[s.price," ريال"]}),e.jsx("span",{className:"font-medium",children:s.title||s.part_name})]},s.product_id))})]})]})]})]})})]})})]})]})}export{F as default};
